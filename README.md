#### Вступление

Я мог уделять время тестовому заданию с понедельника по четверг по 2 часа в день.

Как я и упоминал ранее, создание проекта без фреймворка мне доводилось делать только один раз и достаточно давно. На всех прошлых работах мы использовали yii2.

К сожалению, осваивание нового инструментария и его настройка (библиотек symfony, доктрина) занимало много времени и я решил остановиться и концептуально отобразить классы: авторизация и получение случайного подарка.

Точка входа: src/Core/UseCases. \
Контроллеры: src/App/Controllers/Api

В связи с этим я успел добавить докер для установки зависимостей (можно было бы попрыгать по классам в ide). В некоторых классах может отсутствовать реализация.

Надеюсь, это не будет являться стоп-фактором для прохождения интервью дальше :) 

Если мое текущее виденье будет вам импонировать, я могу дореализовать логику и протестировать функционал в рамках своей привычной инфраструктуры (yii2). Либо, например, мог бы при встрече показать примеры другого моего кода, который я не могу публично использовать.

#### Установка зависимостей
Выполнить команду:
```
make init
```

### Ход выполнения

Я решил использовать компоненты симфони. Добавил конфиг, контейнер, подключил handler'ы. \
Добавил концептуальные классы логики.

#### API

Для реализации ответов апи я бы использовал концептуальные структуры из jsonapi.org. 

Стандартную обработку ответа вынес бы в ResponseHandler. 

Возвращал бы не JsonResponse, а какой-нибудь TransferUseCaseResponse и в ResponseHandler преобразовывал бы его.
Это бы позволило потом перемещать вызов useCases'ов в разных точках входа.

#### Логика

Для реализации перевода подарков либо списания денег я добавил бы TransactionManager, которые бы оборачивал операции в транзакцию.

Класс useCases'а в контроллере src/App/Controllers/Api/RandomPrizeController.php создается в конструкторе.\
Я его вынес бы, конечно, в контейнер.

#### Тестирование

Для тестирования кода я бы использовал codeception.

#### Заключение
Мне понравилось тестовое задание, особенно, что нужно его выполнить без фреймворка. 

Я понял из своего опыта, что фреймворк это инфраструктура для нашего основного кода, но мне пока не доводилось в рабочих проектах сталкиваться с данными подходом. Я к нему стремлюсь, но на всех рабочих проектах использовались всегда фреймворки. 

На прошлом месте работы я использовал useCases's, сущности, хранилища и делился выводами с коллегами - это позволило нам сильно упростить код. 